{% import "partials/icons.html" as icons %}
{% macro card(bag, is_authenticated) %}
<div id="bag-card-{{ bag.id }}" class="rounded-lg border bg-surface p-4">
  <div class="min-w-0">
    <span class="block truncate font-semibold text-stone-800">{{ bag.roast_name }}</span>
    <p class="truncate text-sm text-stone-500">{{ bag.roaster_name }}</p>
  </div>
  <p class="mt-2 truncate text-sm text-stone-600">
    <span class="font-medium">{{ bag.remaining }}g</span>
    <span class="text-stone-400">of {{ bag.amount }}g remaining</span>
  </p>
  {% if is_authenticated %}
  <div class="mt-3 pt-3 border-t flex gap-3">
    <a href="/data?type=brews" class="inline-flex items-center gap-1 text-sm font-medium text-accent hover:text-accent-hover">
      {% call icons::plus_circle("h-4 w-4") %}
      Brew
    </a>
    <button
      type="button"
      class="inline-flex items-center gap-1 text-sm font-medium text-stone-500 hover:text-stone-700"
      onclick="closeBag('{{ bag.id }}', document.getElementById('bag-card-{{ bag.id }}'))"
    >
      {% call icons::x_circle("h-4 w-4") %}
      Close
    </button>
  </div>
  {% endif %}
</div>
{% endmacro %}
